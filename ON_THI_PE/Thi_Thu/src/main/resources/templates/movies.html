<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Movies Management Page</title>
</head>
<body>
<h2>Movies Management Page</h2>
<form method="get" th:action="@{/movies}">
    <input name="keyword" th:value="${keyword}" placeholder="Search..." />
    <button type="submit">Search</button>
    <span th:if="${role == 1}">
            <a th:href="@{/movies/add}">Add Movie</a>
        </span>
</form>
<table border="1">
    <tr>
        <th>ID</th><th>Name</th><th>Duration</th><th>Actor</th><th>Status</th><th>Director</th>
        <th th:if="${role == 1}">Actions</th>
    </tr>
    <tr th:each="m : ${movies}">
        <td th:text="${m.movieId}"></td>
        <td th:text="${m.movieName}"></td>
        <td th:text="${m.duration}"></td>
        <td th:text="${m.actor}"></td>
        <td th:text="${m.status}"></td>
        <td th:text="${m.director.directorName}"></td>
        <td th:if="${role == 1}">
            <a th:href="@{/movies/edit/{id}(id=${m.movieId})}">Edit</a>
            <a th:href="@{/movies/delete/{id}(id=${m.movieId})}" onclick="return confirm('Delete?')">Delete</a>
        </td>
    </tr>
</table>
</body>
</html>
